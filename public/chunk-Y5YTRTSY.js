import{Ib as g,Kb as y,La as l,Va as d,_a as _,ha as f,hb as P,ia as m,ja as u,jb as C,kb as b,mb as v,nb as O,ob as c,pb as p,sa as h,ta as r,ub as x,wa as s,yb as M,zb as o}from"./chunk-54LR7GFL.js";function F(n,t){if(n&1){let e=x();c(0,"div",4),M("click",function(){m(e);let a=o().$implicit,E=o();return u(E.changePage(a))}),g(1),p()}if(n&2){let e=o().$implicit,i=o();P(i.activePage()===e?"square active_page":"square"),l(),y(" ",e," ")}}function w(n,t){n&1&&(c(0,"div",3),g(1,". . ."),p())}function I(n,t){if(n&1&&_(0,F,2,3,"div",2)(1,w,2,0,"div",3),n&2){let e=t.$implicit;C(e!==-1?0:1)}}var D=class n{total=r(0);factor=r(2);offsetEmitter=h();arrOffsets=s([]);rangeOffsets=s(0);rest=s(null);pages=s(0);arrPages=s([]);initialOffset=r(0);activePage=s(1);ngOnInit(){this.calculatePagination()}ngOnChanges(t){t.total&&!t.total.firstChange&&this.calculatePagination()}calculatePagination(){this.arrOffsets.set([]),this.arrPages.set([]);let t=Math.floor(this.initialOffset()/this.factor())+1;this.activePage.set(t),this.rest.set(this.total()%this.factor()),this.rangeOffsets.set(Math.floor(this.total()/this.factor())),this.pages.set(this.rest()===0?this.rangeOffsets():this.rangeOffsets()+1);for(let e=0;e<this.pages();e++)this.arrOffsets().push(e*this.factor()),this.arrPages().push(e+1);this.updateDisplayedPages()}updateDisplayedPages(){let t=this.pages(),e=this.activePage(),i=[];if(t<=7)for(let a=1;a<=t;a++)i.push(a);else{i.push(1),e>3&&i.push(-1);for(let a=Math.max(2,e-2);a<=Math.min(t-1,e+2);a++)i.push(a);e<t-2&&i.push(-1),i.push(t)}this.arrPages.set(i)}changePage(t){t===-1||this.activePage()===t||(this.activePage.set(t),this.offsetEmitter.emit(this.arrOffsets()[t-1]),this.updateDisplayedPages())}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["app-pagination"]],inputs:{total:[1,"total"],factor:[1,"factor"],initialOffset:[1,"initialOffset"]},outputs:{offsetEmitter:"offsetEmitter"},features:[f],decls:4,vars:0,consts:[[1,"pagination"],[1,"pagination_nav"],[3,"class"],[1,"square","disabled"],[3,"click"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1),v(2,I,2,1,null,null,b),p()()),e&2&&(l(2),O(i.arrPages()))},styles:[".pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.pagination[_ngcontent-%COMP%]   .pagination_nav[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.pagination[_ngcontent-%COMP%]   .pagination_nav[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{cursor:pointer;margin-right:.3rem;padding:.1rem .4rem}@media (min-width: 768px){.pagination[_ngcontent-%COMP%]   .pagination_nav[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{margin-right:.5rem;padding:.1rem .6rem}}.pagination[_ngcontent-%COMP%]   .pagination_nav[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{border-bottom:unset!important}.active_page[_ngcontent-%COMP%]{border-bottom:.4rem solid var(--primary_blue)!important;color:var(--primary)}"],changeDetection:0})};export{D as a};
