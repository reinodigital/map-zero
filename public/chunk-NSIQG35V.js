import{b as C,c as s,d as F,e as _,h as w,k as T,n as E,t as x,u as N}from"./chunk-TUWVJ4C7.js";import{a as L}from"./chunk-XO5AROVW.js";import{r as b,v as h}from"./chunk-SQGBK3PG.js";import{Ib as o,La as l,Va as y,_a as d,ba as a,e as S,eb as c,jb as u,ob as t,pb as i,qb as g,wa as p,yb as f}from"./chunk-54LR7GFL.js";function G(n,e){n&1&&(t(0,"small",8),o(1," formato de correo inv\xE1lido "),i())}function M(n,e){n&1&&(t(0,"small",8),o(1," contrase\xF1a inv\xE1lida "),i())}var v=class n{fb=a(x);router=a(b);authService=a(h);customToastService=a(L);passwordType=p("password");loginForm=p(this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6)]]}));sub=new S;validField(e){return this.loginForm().controls[e].touched&&this.loginForm().controls[e].invalid}displayPassword(){this.passwordType()==="password"?this.passwordType.set("text"):this.passwordType.set("password")}login(){this.loginForm().invalid||this.authService.login(this.loginForm().value).subscribe(e=>{e&&e.uid?(this.customToastService.add({message:`Bienvenido/a a Map Zero ${e.name}`,type:"success",duration:3e3}),this.router.navigateByUrl("/")):this.customToastService.add({message:e.message,type:"error",duration:1e4})})}static \u0275fac=function(m){return new(m||n)};static \u0275cmp=y({type:n,selectors:[["login"]],decls:25,vars:4,consts:[[1,"login"],[1,"login_content"],["autocomplete","off",1,"login_form",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","col-lg-5"],["for","email"],[1,"asterisk"],["type","email","formControlName","email","placeholder","su correo"],[1,"text-danger"],["for","password",1,"label_password"],[1,"fa-solid","fa-eye",3,"click"],["formControlName","password","placeholder","su contrase\xF1a",3,"type"],["type","submit",1,"btn","btn-primary","mt-4"]],template:function(m,r){m&1&&(t(0,"div",0)(1,"h1"),o(2,"Iniciar sesi\xF3n"),i(),t(3,"div",1)(4,"form",2),f("ngSubmit",function(){return r.login()}),t(5,"div",3)(6,"div",4)(7,"label",5),o(8," Correo "),t(9,"span",6),o(10,"*"),i()(),g(11,"input",7),d(12,G,2,0,"small",8),i()(),t(13,"div",3)(14,"div",4)(15,"label",9)(16,"div"),o(17,"Contrase\xF1a "),t(18,"span",6),o(19,"*"),i()(),t(20,"i",10),f("click",function(){return r.displayPassword()}),i()(),g(21,"input",11),d(22,M,2,0,"small",8),i()(),t(23,"button",12),o(24,"Iniciar Sesi\xF3n"),i()()()()),m&2&&(l(4),c("formGroup",r.loginForm()),l(8),u(r.validField("email")?12:-1),l(9),c("type",r.passwordType()),l(),u(r.validField("password")?22:-1))},dependencies:[N,w,C,F,_,T,E],styles:[".label_password[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"],changeDetection:0})};export{v as default};
