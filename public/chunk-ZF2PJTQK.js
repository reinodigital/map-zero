import{a as $}from"./chunk-VRTT47YS.js";import"./chunk-IBKVHNU3.js";import{a as U}from"./chunk-GZHOXXQG.js";import"./chunk-5TLBDS6K.js";import"./chunk-WKFQL3IM.js";import{b as I,d as V,e as M,h as G,k as j,n as O,t as R,u as B}from"./chunk-UP3F5373.js";import{h as k,j as N,x as D}from"./chunk-4ZQGKSBB.js";import{$a as v,Ab as p,Jb as a,Kb as L,Lb as _,Ma as r,Sb as E,Tb as w,Wa as x,ba as d,fb as A,ia as y,ib as g,ja as b,kb as f,na as T,nb as S,ob as F,pb as t,qb as i,rb as u,vb as C,wa as l,zb as m}from"./chunk-F6XVVQNR.js";var P=(e,o)=>o.id;function q(e,o){e&1&&u(0,"i",5)}function H(e,o){e&1&&u(0,"i",6)}function J(e,o){e&1&&(t(0,"div",17)(1,"div",19)(2,"div",20)(3,"h4",21),a(4,"Loading"),i(),u(5,"i",22),t(6,"p",23),a(7,"Cargando..."),i()()()())}function K(e,o){if(e&1){let n=C();t(0,"tr",30),m("click",function(){let s=y(n).$implicit,z=p(2);return b(z.listAccountsService.displayModalCreateUpdateAccountType(s))}),t(1,"td"),a(2),i(),t(3,"td")(4,"span"),a(5),E(6,"uppercase"),i()()()}if(e&2){let n=o.$implicit,c=p(2);r(2),L(n.name),r(2),g(c.listAccountsService.getBadgeByCategory(n.category)),r(),_(" ",w(6,4,n.category)," ")}}function Q(e,o){if(e&1&&(t(0,"tr")(1,"div",31)(2,"div",32),a(3),i()()()),e&2){let n=p(2);r(3),_(" ",n.isActiveFilters()?"Sin resultados para esa b\xFAsqueda":"No existen tipos de cuentas por el momento en el sistema"," ")}}function W(e,o){if(e&1){let n=C();t(0,"div",18)(1,"div",2)(2,"div",10)(3,"div",24)(4,"h3"),a(5),i(),t(6,"button",25),m("click",function(){y(n);let s=p();return b(s.listAccountsService.displayModalCreateUpdateAccountType())}),a(7," + Agregar tipo cuenta "),i()(),t(8,"div",26)(9,"table",27)(10,"thead")(11,"tr")(12,"th"),a(13,"Nombre"),i(),t(14,"th"),a(15,"Categor\xEDa"),i()()(),t(16,"tbody",28),S(17,K,7,6,"tr",29,P,!1,Q,4,1,"tr"),i()()()()()()}if(e&2){let n=p();r(5),_("Listado tipo cuentas (",n.total(),")"),r(12),F(n.accountTypes())}}var h=class e{fb=d(R);destroyRef=d(T);accountTypeService=d(D);listAccountsService=d($);accountTypes=l([]);total=l(0);isLoading=l(!0);filtersOpen=l(!1);filters=l({});isActiveFilters=l(!1);searchForm=l(this.fb.group({name:["",[]]}));ngOnInit(){this.fetchAllAccountType(),this.listAccountsService.newAccountType$.pipe(U(this.destroyRef)).subscribe(o=>this.fetchAllAccountType())}fetchAllAccountType(){this.accountTypeService.fetchAll().subscribe(o=>{o&&o.length&&(this.total.set(o.length),this.accountTypes.set(o)),this.isLoading.set(!1)})}openCloseFilters(){this.filtersOpen.set(!this.filtersOpen())}searchFormSubmit(){this.filters.set(this.searchForm().value),this.isActiveFilters.set(!0),this.fetchAllAccountType()}restartFilters(){this.isActiveFilters.set(!1),this.filters.set({}),this.searchForm().reset(),this.fetchAllAccountType()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=x({type:e,selectors:[["list-account-type"]],decls:23,vars:4,consts:[[1,"main_content"],[1,"filters","mb-4"],[1,"box"],["data-bs-toggle","collapse","data-bs-target","#collapseFilters","aria-expanded","false","aria-controls","collapseFilters",1,"d-flex","justify-content-between","align-items-center","cp","mb-2",3,"click"],[1,"mb-0"],[1,"fa-solid","fa-window-minimize"],[1,"fa-solid","fa-window-maximize"],["id","collapseFilters",1,"collapse"],[1,"card","card-body"],["autocomplete","off",1,"search_form",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],["for","name"],["type","text","formControlName","name"],[1,"d-flex","justify-content-start","mt-4"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-light","ms-2",3,"click"],[1,"row","animate__animated","animate__fadeIn"],[1,"table_clients"],[1,"col-12"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-o"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-primary","mb-2",3,"click"],[1,"table-responsive"],[1,"table"],[1,"animate__animated","animate__fadeIn"],[1,"admin_tr"],[1,"admin_tr",3,"click"],[1,"w-100","d-flex","justify-content-start"],[1,"alert","alert-warning"]],template:function(n,c){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m("click",function(){return c.openCloseFilters()}),t(4,"h3",4),a(5,"Filtrar tipo cuentas"),i(),v(6,q,1,0,"i",5)(7,H,1,0,"i",6),i(),t(8,"div",7)(9,"div",8)(10,"form",9),m("ngSubmit",function(){return c.searchFormSubmit()}),t(11,"div",10)(12,"div",11)(13,"label",12),a(14,"Nombre"),i(),u(15,"input",13),i()(),t(16,"div",14)(17,"button",15),a(18,"Filtrar"),i(),t(19,"button",16),m("click",function(){return c.restartFilters()}),a(20," Restablecer filtros "),i()()()()()()(),v(21,J,8,0,"div",17)(22,W,20,2,"div",18),i()),n&2&&(r(6),f(c.filtersOpen()?6:7),r(4),A("formGroup",c.searchForm()),r(11),f(c.isLoading()?21:-1),r(),f(c.isLoading()?-1:22))},dependencies:[N,k,B,G,I,V,M,j,O],encapsulation:2,changeDetection:0})};export{h as default};
