import{a as E}from"./chunk-WL7VUX6S.js";import{a as P}from"./chunk-QVQJSET7.js";import{k as h,m as B,n as M}from"./chunk-SF27WFEL.js";import{$a as I,Ab as c,Jb as l,Lb as g,Ma as o,Mb as C,Tb as m,Ub as w,Vb as x,Wa as b,ba as p,kb as d,lb as u,na as y,nb as _,ob as f,pb as a,qb as i,wa as O}from"./chunk-BXSYLYWC.js";function q(t,n){if(t&1&&(a(0,"div",3)(1,"span",4),l(2),m(3,"titlecase"),i(),a(4,"strong",5),l(5),m(6,"number"),i()()),t&2){let e=n.$implicit,s=c(2);o(2),C(" ",w(3,3,e)," (",s.sales().statusCounts.Invoice[e],") "),o(3),g(" ",x(6,5,s.sales().totalsByStatus.Invoice[e],"1.2-2")," ")}}function k(t,n){if(t&1&&(a(0,"section",1)(1,"h3"),l(2,"Facturas"),i(),a(3,"div",2),_(4,q,7,8,"div",3,u),i()()),t&2){let e=c();o(4),f(e.objectKeys(e.sales().statusCounts.Invoice))}}function D(t,n){if(t&1&&(a(0,"div",3)(1,"span",4),l(2),m(3,"titlecase"),i(),a(4,"strong",5),l(5),m(6,"number"),i()()),t&2){let e=n.$implicit,s=c(2);o(2),C(" ",w(3,3,e)," (",s.sales().statusCounts.Quote[e],") "),o(3),g(" ",x(6,5,s.sales().totalsByStatus.Quote[e],"1.2-2")," ")}}function T(t,n){if(t&1&&(a(0,"section",1)(1,"h3"),l(2,"Cotizaciones"),i(),a(3,"div",2),_(4,D,7,8,"div",3,u),i()()),t&2){let e=c();o(4),f(e.objectKeys(e.sales().statusCounts.Quote))}}var S=class t{destroyRef=p(y);overviewService=p(E);sales=O(null);objectKeys=Object.keys;ngOnInit(){this.overviewService.fetchSalesOverview().pipe(P(this.destroyRef)).subscribe(n=>{n&&this.sales.set(n)})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["sales-overview"]],decls:5,vars:2,consts:[[1,"sales_overview"],[1,"sales_overview","m_small"],[1,"sales_overview_grid"],[1,"sales_overview_grid_square"],[1,"sales_overview_grid_square_title"],[1,"sales_overview_grid_square_amount"]],template:function(e,s){if(e&1&&(a(0,"div",0)(1,"h1"),l(2,"Vista preliminar de ventas"),i(),I(3,k,6,0,"section",1)(4,T,6,0,"section",1),i()),e&2){let r,v;o(3),d(!((r=s.sales())==null||r.statusCounts==null)&&r.statusCounts.Invoice&&(!((r=s.sales())==null||r.totalsByStatus==null)&&r.totalsByStatus.Invoice)?3:-1),o(),d(!((v=s.sales())==null||v.statusCounts==null)&&v.statusCounts.Quote&&(!((v=s.sales())==null||v.totalsByStatus==null)&&v.totalsByStatus.Quote)?4:-1)}},dependencies:[M,B,h],styles:[".sales_overview_grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}@media (min-width: 768px){.sales_overview_grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media (min-width: 1024px){.sales_overview_grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.sales_overview_grid_square[_ngcontent-%COMP%]{border:1px solid var(--text);background:linear-gradient(#fff,#f5f7f8);cursor:pointer;display:flex;flex-direction:column;align-items:center;padding:1.4rem 2.4rem}.sales_overview_grid_square[_ngcontent-%COMP%]:hover{background:#e4f1f8}.sales_overview_grid_square[_ngcontent-%COMP%]   .sales_overview_grid_square_title[_ngcontent-%COMP%]{color:var(--title);font-size:1.2rem}.sales_overview_grid_square[_ngcontent-%COMP%]   .sales_overview_grid_square_amount[_ngcontent-%COMP%]{color:var(--primary_blue);margin-top:.2rem}"],changeDetection:0})};export{S as default};
