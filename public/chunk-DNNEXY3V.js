import{a as U}from"./chunk-Q5WCP3HW.js";import"./chunk-UYDUL6F7.js";import{a as B}from"./chunk-KGOR65YN.js";import"./chunk-EO4DNGQO.js";import"./chunk-QULINWIQ.js";import{b as D,d as I,e as M,h as G,k as j,n as O,t as R,u as z}from"./chunk-7DSSDOH7.js";import{h as k,j as V,x as N}from"./chunk-GCLW45SM.js";import{Ib as a,Jb as w,Kb as y,La as r,Rb as L,Sb as E,Va as T,_a as v,ba as d,eb as h,hb as A,ia as u,ja as f,jb as b,mb as F,na as g,nb as S,ob as i,pb as t,qb as x,ub as _,wa as s,yb as m,zb as p}from"./chunk-QAVPLLNK.js";var P=(n,o)=>o.id;function q(n,o){if(n&1){let e=_();i(0,"i",19),m("click",function(){u(e);let c=p();return f(c.openCloseFilters())}),t()}}function H(n,o){if(n&1){let e=_();i(0,"i",20),m("click",function(){u(e);let c=p();return f(c.openCloseFilters())}),t()}}function J(n,o){n&1&&(i(0,"div",17)(1,"div",21)(2,"div",22)(3,"h4",23),a(4,"Loading"),t(),x(5,"i",24),i(6,"p",25),a(7,"Cargando..."),t()()()())}function K(n,o){if(n&1){let e=_();i(0,"tr",32),m("click",function(){let c=u(e).$implicit,$=p(2);return f($.listAccountsService.displayModalCreateUpdateAccountType(c))}),i(1,"td"),a(2),t(),i(3,"td")(4,"span"),a(5),L(6,"uppercase"),t()()()}if(n&2){let e=o.$implicit,l=p(2);r(2),w(e.name),r(2),A(l.listAccountsService.getBadgeByCategory(e.category)),r(),y(" ",E(6,4,e.category)," ")}}function Q(n,o){if(n&1&&(i(0,"tr")(1,"div",33)(2,"div",34),a(3),t()()()),n&2){let e=p(2);r(3),y(" ",e.isActiveFilters()?"Sin resultados para esa b\xFAsqueda":"No existen tipos de cuentas por el momento en el sistema"," ")}}function W(n,o){if(n&1){let e=_();i(0,"div",18)(1,"div",2)(2,"div",10)(3,"div",26)(4,"h3"),a(5),t(),i(6,"button",27),m("click",function(){u(e);let c=p();return f(c.listAccountsService.displayModalCreateUpdateAccountType())}),a(7," + Agregar tipo cuenta "),t()(),i(8,"div",28)(9,"table",29)(10,"thead")(11,"tr")(12,"th"),a(13,"Nombre"),t(),i(14,"th"),a(15,"Categor\xEDa"),t()()(),i(16,"tbody",30),F(17,K,7,6,"tr",31,P,!1,Q,4,1,"tr"),t()()()()()()}if(n&2){let e=p();r(5),y("Listado tipo cuentas (",e.total(),")"),r(12),S(e.accountTypes())}}var C=class n{fb=d(R);destroyRef=d(g);accountTypeService=d(N);listAccountsService=d(U);accountTypes=s([]);total=s(0);isLoading=s(!0);filtersOpen=s(!1);filters=s({});isActiveFilters=s(!1);searchForm=s(this.fb.group({name:["",[]]}));ngOnInit(){this.fetchAllAccountType(),this.listAccountsService.newAccountType$.pipe(B(this.destroyRef)).subscribe(o=>this.fetchAllAccountType())}fetchAllAccountType(){this.accountTypeService.fetchAll().subscribe(o=>{o&&o.length&&(this.total.set(o.length),this.accountTypes.set(o)),this.isLoading.set(!1)})}openCloseFilters(){this.filtersOpen.set(!this.filtersOpen())}searchFormSubmit(){this.filters.set(this.searchForm().value),this.isActiveFilters.set(!0),this.fetchAllAccountType()}restartFilters(){this.isActiveFilters.set(!1),this.filters.set({}),this.searchForm().reset(),this.fetchAllAccountType()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=T({type:n,selectors:[["list-account-type"]],decls:23,vars:4,consts:[[1,"main_content"],[1,"filters","mb-4"],[1,"box"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mb-0"],["data-bs-toggle","collapse","data-bs-target","#collapseFilters","aria-expanded","false","aria-controls","collapseFilters",1,"fa-solid","fa-window-minimize"],["data-bs-toggle","collapse","data-bs-target","#collapseFilters","aria-expanded","false","aria-controls","collapseFilters",1,"fa-solid","fa-window-maximize"],["id","collapseFilters",1,"collapse"],[1,"card","card-body"],["autocomplete","off",1,"search_form",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],["for","name"],["type","text","formControlName","name"],[1,"d-flex","justify-content-start","mt-4"],["type","submit",1,"btn","btn-success"],["type","button",1,"btn","btn-light","ms-2",3,"click"],[1,"row","animate__animated","animate__fadeIn"],[1,"table_clients"],["data-bs-toggle","collapse","data-bs-target","#collapseFilters","aria-expanded","false","aria-controls","collapseFilters",1,"fa-solid","fa-window-minimize",3,"click"],["data-bs-toggle","collapse","data-bs-target","#collapseFilters","aria-expanded","false","aria-controls","collapseFilters",1,"fa-solid","fa-window-maximize",3,"click"],[1,"col-12"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-o"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-primary","mb-2",3,"click"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"animate__animated","animate__fadeIn"],[1,"admin_tr"],[1,"admin_tr",3,"click"],[1,"w-100","d-flex","justify-content-start"],[1,"alert","alert-warning"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),a(5,"Filtrar tipo cuentas"),t(),v(6,q,1,0,"i",5)(7,H,1,0,"i",6),t(),i(8,"div",7)(9,"div",8)(10,"form",9),m("ngSubmit",function(){return l.searchFormSubmit()}),i(11,"div",10)(12,"div",11)(13,"label",12),a(14,"Nombre"),t(),x(15,"input",13),t()(),i(16,"div",14)(17,"button",15),a(18,"Filtrar"),t(),i(19,"button",16),m("click",function(){return l.restartFilters()}),a(20," Restablecer filtros "),t()()()()()()(),v(21,J,8,0,"div",17)(22,W,20,2,"div",18),t()),e&2&&(r(6),b(l.filtersOpen()?6:7),r(4),h("formGroup",l.searchForm()),r(11),b(l.isLoading()?21:-1),r(),b(l.isLoading()?-1:22))},dependencies:[V,k,z,G,D,I,M,j,O],encapsulation:2,changeDetection:0})};export{C as default};
