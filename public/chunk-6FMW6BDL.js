import{k as w,r as M,v as U}from"./chunk-GCLW45SM.js";import{Ba as g,Ib as l,Jb as _,Kb as f,La as o,Va as h,ba as u,fb as k,ia as x,ja as S,kb as C,mb as y,nb as E,ob as e,pb as i,qb as m,ub as I,wa as p,yb as b,zb as v}from"./chunk-QAVPLLNK.js";function T(s,t){if(s&1){let r=I();e(0,"div",24),b("click",function(){let a=x(r).$index,d=v();return S(d.selectPill(a))}),e(1,"div",25),l(2),i()()}if(s&2){let r=t.$implicit,n=t.$index,a=v();k("background-color",n===a.currentPillSelected()?"var(--primary)":"unset"),o(2),f(" ",r," ")}}var P=class s{authService=u(U);router=u(M);platformId=u(g);isBrowser=w(this.platformId);currentUser=p(null);maintenances=p([]);totalMaintenances=p(0);arrPills=["Mi perfil"];currentPillSelected=p(0);idPillArr=["pills-profile-tab"];constructor(){this.currentUser.set(this.authService.userProps)}clickOverPill(){if(this.isBrowser){let t=this.idPillArr[this.currentPillSelected()];document.querySelector(`#${t}`).click()}}selectPill(t){t!==this.currentPillSelected()&&(this.currentPillSelected.set(t),this.clickOverPill())}logout(){this.authService.logout().subscribe(t=>{t&&t.ok&&this.router.navigateByUrl("/login")})}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=h({type:s,selectors:[["app-profile"]],decls:39,vars:4,consts:[[1,"profile","container"],[1,"div_selects_pills"],[1,"square_pill",3,"backgroundColor"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3","div_pills",2,"display","none"],["role","presentation",1,"nav-item"],["id","pills-profile-tab","data-bs-toggle","pill","type","button","data-bs-target","#pills-profile","role","tab","aria-controls","pills-profile","aria-selected","true",1,"nav-link","active"],["id","pills-maintenance-tab","data-bs-toggle","pill","type","button","data-bs-target","#pills-maintenance","role","tab","aria-controls","pills-maintenance","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab","tabindex","0",1,"tab-pane","fade","active","show"],[1,"profile_content"],[1,"box"],[1,"header"],[1,"mb-4"],[1,"info_user"],[1,"single_info"],[1,"mb-3"],[1,"user_name"],[1,"fa-solid","fa-mobile-button","me-3"],[1,"mb-0","text_light"],[1,"fa-solid","fa-envelope-circle-check","me-2"],[1,"fa-solid","fa-dice-five","me-3"],[1,"info_actions","mt-4","mb-4"],["title","logout",1,"go_out",3,"click"],["id","pills-maintenance","role","tabpanel","aria-labelledby","pills-maintenance-tab","tabindex","0",1,"tab-pane","fade"],[1,"square_pill",3,"click"],[1,"d-flex","justify-content-center"]],template:function(r,n){if(r&1&&(e(0,"div",0)(1,"div",1),y(2,T,3,3,"div",2,C),i(),e(4,"ul",3)(5,"li",4)(6,"button",5),l(7," Mi perfil "),i(),e(8,"button",6),l(9," Mantenimientos "),i()()(),e(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"h2",12),l(16,"Perfil"),i()(),e(17,"section",13)(18,"div",14)(19,"p",15),l(20," Bienvenido "),e(21,"span",16),l(22),i()()(),e(23,"div",14),m(24,"i",17),e(25,"p",18),l(26),i()(),e(27,"div",14),m(28,"i",19),e(29,"p",18),l(30),i()(),e(31,"div",14),m(32,"i",20),e(33,"p",18),l(34),i()()(),e(35,"section",21)(36,"a",22),b("click",function(){return n.logout()}),l(37," Cerrar sesi\xF3n "),i()()()()(),m(38,"div",23),i()()),r&2){let a,d,c;o(2),E(n.arrPills),o(20),_((a=n.currentUser())==null?null:a.name),o(4),_((d=n.currentUser())==null?null:d.mobile),o(4),f(" ",(c=(c=n.currentUser())==null?null:c.email)!==null&&c!==void 0?c:"sin correo electr\xF3nico"," "),o(4),f(" ROLE::",n.currentUser().roles[0]||n.currentUser().roles[1]," ")}},encapsulation:2})};export{P as default};
